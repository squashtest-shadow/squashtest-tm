<!--

        This file is part of the Squashtest platform.
        Copyright (C) 2010 - 2015 Henix, henix.fr

        See the NOTICE file distributed with this work for additional
        information regarding copyright ownership.

        This is free software: you can redistribute it and/or modify
        it under the terms of the GNU Lesser General Public License as published by
        the Free Software Foundation, either version 3 of the License, or
        (at your option) any later version.

        this software is distributed in the hope that it will be useful,
        but WITHOUT ANY WARRANTY; without even the implied warranty of
        MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
        GNU Lesser General Public License for more details.

        You should have received a copy of the GNU Lesser General Public License
        along with this software.  If not, see <http://www.gnu.org/licenses/>.

-->


<div th:remove="tag">
  <!-- 
    This tag needs in the context an object MilestonePanelConfiguration named "conf"      
   -->
</div>

<div class="milestone-panel-master">
  <div class="toolbar" th:if="${conf.permissions.editable}" >
    <input type="button" class="sq-btn milestone-panel-bind-button" value="+" />
    <input type="button" class="sq-btn milestone-panel-unbind-button" value="-" />
  </div>

  <div class="table-tab-wrap">

    <table class="milestone-panel-table" >
      <thead>
        <th data-def="select, map=entity-index">#</th>
        <th data-def="map=label">label</th>
        <th data-def="map=status">status</th>
        <th data-def="map=date">end date</th>
        <th data-def="map=description">description</th>
        <th data-def="map=empty-delete-holder"></th>
      </thead>
      <tbody>
          <!-- initialized via javascript -->
      </tbody>

    </table>

  </div>

  <div class="bind-milestone-dialog popup-dialog not-displayed" th:title="'bind ur milestones'">

    <div>
      <table class="bind-milestone-dialog-table">
        <thead>
          <th data-def="sClass=bind-milestone-dialog-check, map=empty-delete-holder"></th>
          <th data-def="map=label">label</th>
          <th data-def="map=status">status</th>
          <th data-def="map=date">end date</th>
          <th data-def="map=description">description</th>
        </thead>
        <tbody>

        </tbody>
      </table>

      <span class="bind-milestone-dialog-selectall cursor-pointer" >select all</span> 
      <span class="bind-milestone-dialog-selectnone cursor-pointer" >select none</span> 
      <span class="bind-milestone-dialog-invertselect cursor-pointer" >invert selection</span>

    </div>

    <div class="popup-dialog-buttonpane">
      <input type="button" class="bind-milestone-dialog-confirm" data-def="evt=confirm, mainbtn" value="confirm" />
      <input type="button" class="bind-milestone-dialog-cancel" data-def="evt=cancel" value="cancel" />
    </div>

  </div>
  
  <div class="unbind-milestone-dialog popup-dialog not-displayed" th:title="'U SURE ?'">
    <div data-def="state=one-selected">
        U SURE WANNA DO REMOVE ONE MILESTONE
    </div>
    <div data-def="state=more-selected">
      U SURE WANNA REMOVE LOT O MILESTONES ?
    </div>
    <div data-def="state=none-selected">
      SELECT SOME MILESTONE YA TROLL
    </div>
    
    <div class="popup-dialog-buttonpane">
      <input type="button" value="YEAH" data-def="state=one-selected more-selected, mainbtn=one-selected more-selected, evt=confirm"/>
      <input type="button" value="NAY" data-def="evt=cancel"/>
    </div>
  </div>
  
  <script th:inline="javascript">
  /*<![CDATA[*/
    	var conf = /*[[${conf}]]*/ {};
    	
    	require(["milestones/milestone-panel"], function(panel){
    		panel.init(conf);
    	});
    	
  /*]]>*/           
  </script>

</div>

