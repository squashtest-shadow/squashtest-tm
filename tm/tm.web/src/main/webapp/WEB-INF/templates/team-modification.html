<!--

        This file is part of the Squashtest platform.
        Copyright (C) 2010 - 2012 Henix, henix.fr

        See the NOTICE file distributed with this work for additional
        information regarding copyright ownership.

        This is free software: you can redistribute it and/or modify
        it under the terms of the GNU Lesser General Public License as published by
        the Free Software Foundation, either version 3 of the License, or
        (at your option) any later version.

        this software is distributed in the hope that it will be useful,
        but WITHOUT ANY WARRANTY; without even the implied warranty of
        MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
        GNU Lesser General Public License for more details.

        You should have received a copy of the GNU Lesser General Public License
        along with this software.  If not, see <http://www.gnu.org/licenses/>.

-->
<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-transitional-thymeleaf-spring3-3.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
<title th:text="#{title.team}">Espace detail équipe</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<script th:remove="all" type="text/javascript" src="../../scripts/lib/jquery/jquery-1.8.2.js"></script>
<script th:remove="all" type="text/javascript" src="../../js/thymol.js"></script>
<script type="text/javascript" th:inline="javascript">
	var squashtm = {};
	squashtm.app = {
		contextRoot : /*[[ @{/} ]]*/"http://localhost:8080/squash",
		teamMod : {
			teamUrl : /*[[ @{/administration/teams/__${team.id}__} ]]*/"http://localhost:8080/administration/teams/1",
			richEditPlaceHolder : /*[[#{rich-edit.placeholder}]]*/'(Click to edit ...)',
			richEditLanguageValue : /*[[#{rich-edit.language.value}]]*/'fr',
			richEditsubmitLabel : /*[[#{rich-edit.button.ok.label}]]*/'submit',
			confirmLabel : /*[[#{label.Confirm}]]*/'Confirm',
			okLabel : /*[[ #{label.Ok} ]]*/'Ok',
			cancelLabel : /*[[ #{label.Cancel} ]]*/'Cancel',
			ckeditorLang : /*[[#{rich-edit.language.value}]]*/'en',
			renameLabel : /*[[#{label.Rename}]]*/'Rename',
			renameTeamTitle : /*[[#{title.renameTeam}]]*/'Rename Team',
			descriptionPanelLabel: /*[[#{label.Description}]]*/'Desc',
			membersPanelLabel : /*[[#{label.Members}]]*/'Add member'
		},
		
		projectFilterConf : {
			url : /*[[ @{/global-filter/filter} ]]*/'/global-filter/filter',
			title : /*[[ #{dialog.settings.filter.title} ]]*/'Filtre de projets',
			confirmLabel : /*[[ #{label.Confirm} ]]*/'Confirmer',
			cancelLabel : /*[[ #{label.Cancel} ]]*/'Cancel',
		},
		menuBarConf : {
			boxSelector : "#menu-toggle-filter-ckbox",
			url : /*[[ @{/global-filter/filter-status} ]]*/'/global-filter/filter-status',
			linkSelector : "#menu-project-filter-link",
			enabledTxt : /*[[ #{workspace.menubar.filter.enabled.label} ]]*/'Actif',
			disabledTxt : /*[[ #{workspace.menubar.filter.disabled.label} ]]*/'Inactif',
			enabledCallbacks : [ function() {
				$("div.tree-filter-reminder-div > span").removeClass("not-displayed");
			} ],
		},
		notificationConf : {
			infoTitle : /*[[ #{popup.title.info} ]]*/'Info',
			errorTitle : /*[[ #{popup.title.error} ]]*/'Erreur'
		},
	};
</script>
<script data-main="../../scripts/team-modification.js"
  th:attr="data-main=@{/scripts/team-modification.js}" src="../../scripts/require.js"
  th:src="@{/scripts/require-min.js}">
	
</script>
<!-- common head -->
<link rel="stylesheet" type="text/css" media="all"
  href="../../../../../../../tm/tm.web/src/main/webapp/styles/master.css" th:href="@{/styles/master.css}" />
<link rel="shortcut icon" type="image/x-icon" media="all"
  href="../../../../../../../tm/tm.web/src/main/webapp/images/favicon.ico" th:href="@{/images/favicon.ico}" />
<!-- /common head -->
<!-- common script import -->
<link rel="stylesheet" type="text/css" media="all"
  href="../../../../../../../tm/tm.web/src/main/webapp/styles/squashtm.fg.menu.css"
  th:href="@{/styles/squashtm.fg.menu.css}" />
<!-- /common script import -->
<link rel="stylesheet" type="text/css" media="all"
  href="../../../../../../../tm/tm.web/src/main/webapp/styles/master.grey.css" th:href="@{/styles/master.grey.css}" />
<link rel="stylesheet" type="text/css" media="all"
  href="../../../../../../../tm/tm.web/src/main/webapp/styles/structure.override.css"
  th:href="@{/styles/structure.override.css}" />

<link rel="stylesheet" type="text/css" media="all"
  href="../../../../../../../tm/tm.web/src/main/webapp/styles/structure.subpageoverride.css"
  th:href="@{/styles/structure.subpageoverride.css}" />
<!-- rich jeditable header -->
<!--   <link rel="stylesheet" type="text/css" media="all" -->
<!--     href="../../../../../../../tm/tm.web/src/main/webapp/styles/ckeditor.override.css" -->
<!--     th:href="@{/styles/ckeditor.override.css}" /> -->
</head>
<body>
  <div id="navigation" th:include="navbar.frag :: navbar">NAVBAR</div>
  <div id="workspace">
    <div id="workspace-title">
      <div class="snap-left">
        <h2 th:text="#{label.administration}" class="admin">Administration</h2>
      </div>
      <div class="snap-right">
        <div class="main-menubar " th:include="menubar.frag :: menubar">MENUBAR</div>
        <div class="unstyled-notification-pane" th:include="menubar.frag :: notification">NOTIFICATION</div>
      </div>
    </div>
    <div id="sub-page" class="sub-page">

      <div id="sub-page-header" class="sub-page-header shadow ui-corner-all">

        <div id="sub-page-title" class="sub-page-title">
          <h2 th:text="#{title.team}">Espace detail équipe</h2>
        </div>

        <div id="sub-page-buttons" class="sub-page-buttons">

          <input id="back" type="button" th:value="#{ label.Back }" value="Back" />

        </div>

        <div class="unsnap"></div>
      </div>

      <div id="sub-page-content" class="sub-page-content shadow ui-corner-all">

        <div id="information-content">
          <div id="team-name-div" class="ui-widget-header ui-corner-all ui-state-default fragment-header">
            <div style="float: left; height: 3em">
              <h2>
                <label for="team-name-header" th:text="#{label.team}">Team</label> <a id="team-name-header"
                  href="#" th:text="${team.name}">Testeur</a>
              </h2>
            </div>
            <div class="snap-right"></div>
            <div class="unsnap"></div>
          </div>

          <div class="fragment-body unstyled">
            <div id="team-toolbar" class="toolbar-class ui-corner-all ">
            
             
			  <div th:include="fragments-utils/general-information-panel :: general-information-panel" 
			  	   th:with="auditableEntity=${team},entityUrl=@{/administration/teams/__${team.id}__}" th:remove="tag"/>
			      
              <div class="toolbar-button-panel">
                <input type="button" th:value="#{ label.Rename }" value="Rename" id="rename-team-button" class="button" />
                <input type="button" th:value="#{ label.Remove }" value="Remove" id="delete-team-button" class="button" />
              </div>
            </div>
            <br /> <br />
            
            <div class="toggle-panel ">
              <span class="not-displayed toogle-panel-buttons"></span>
              <div id="team-description-panel" class="description-panel toggle-panel-main">                
                    <div id="team-description" th:utext="${team.description}">Description</div>
              </div>
            </div>
            
            <div class="toggle-panel">
            	<span class="not-displayed toggle-panel-buttons">
            		<input type="button" id="members-add-button" value="+" ></input>
            		<input type="button" id="members-removeall-button" th:value="#{label.RemoveMember}" ></input>
            	</span> 
            	<div id="members-panel" class="toggle-panel-main">
            		
            		<table id="members-table" 
            			   th:attr="data-def='filter, hover, ajaxsource='+@{/administration/teams/__${team.id}__/members}+',language='+@{/squash/datatables/language}">
            			<thead>
            				<tr>
            					<th th:attr="data-def='invisible, map=user-id'">user-id</th>
            					
	            				<th th:attr="data-def='select, map=user-index'">#</th>
	            				
	            				<th th:attr="data-def='sortable, map=user-name, filter, link='+@{/administration/users/{user-id}/info}"
	            					th:text="#{label.User}">user</th>
	            					
	            				<th th:attr="data-def='delete-button=#members-removeall-dialog, map=empty-delete-holder'"> </th>
            				</tr>
            			</thead>
            			<tbody>
            				<tr th:each="user : ${users}">
            					<td th:text="${user['user-id']}">100</td>
            					<td th:text="${user['user-index']}">1</td>
            					<td th:text="${user['user-name']}">bob</td>
            					<td> </td>
            				</tr>
            			</tbody>
            		</table>            		
            	</div>
            </div>
        
			           
          <div id="delete-warning-pane" class="not-displayed popup-dialog" title="Delete"
            th:title="#{label.Remove}">
            <div class="alert">
              <span th:text="#{message.team.remove}">Do you wanna remove team ?</span>
            </div>
            <div class="popup-dialog-buttonpane">
              <input class="confirm" type="button" value="Proceed" th:value="#{label.Confirm}" />
              <input class="cancel" type="button" value="Cancel" th:value="#{label.Cancel}" />
            </div>
          </div>
          
         
          <div id="members-removeall-dialog" class="not-displayed popup-dialog" th:title="#{title.RemoveMember}">
         	 <div th:text="#{message.RemoveMember}">roundhouse-kick selected users ?</div>
         	 <div class="popup-dialog-buttonpane">
         	 	<input class="confirm" type="button" value="confirm" th:value="#{label.Confirm}"/>
         	 	<input class="cancel" type="button" value="cancel" th:value="#{label.Cancel}" />
         	 </div>
          </div>
          
          
        </div>
      </div>
    </div>
  </div>
  </div>
  <!--    ====================================POPUPS======================================================  -->
  <!--    	RENAME POPUP -->
  <div id="rename-team-popup" class="not-displayed popup-dialog">
    <label for="rename-team-input" th:text="#{ label.Rename }">Rename</label> <input type="text" id="rename-team-input"
      maxlength="50" size="50" /> <br /> <span class="error-message name-error"></span>
  </div>

 

</body>
</html>
