<!--

        This file is part of the Squashtest platform.
        Copyright (C) 2010 - 2013 Henix, henix.fr

        See the NOTICE file distributed with this work for additional
        information regarding copyright ownership.

        This is free software: you can redistribute it and/or modify
        it under the terms of the GNU Lesser General Public License as published by
        the Free Software Foundation, either version 3 of the License, or
        (at your option) any later version.

        this software is distributed in the hope that it will be useful,
        but WITHOUT ANY WARRANTY; without even the implied warranty of
        MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
        GNU Lesser General Public License for more details.

        You should have received a copy of the GNU Lesser General Public License
        along with this software.  If not, see <http://www.gnu.org/licenses/>.

-->
<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-transitional-thymeleaf-spring3-3.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
  <title th:text="#{tabbed_panel.search.pane.result.label}">Test Case Result</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <script th:remove="all" type="text/javascript" src="../../scripts/lib/jquery/jquery-1.8.3.min.js"></script>
  <script th:remove="all" type="text/javascript" src="../../js/thymol.js"></script>
  <script type="text/javascript" th:inline="javascript">
  	var squashtm = {};
  	squashtm.app = {
  		contextRoot : /*[[ @{/} ]]*/"http://localhost:8080/squash",
		localizedDateFormat : /*[[ #{squashtm.dateformatShort.js} ]]*/"dd/mm/yy",
		locale : /*[[ #{squashtm.locale} ]]*/"fr",
  		projectFilterConf: {
			url: /*[[ @{/global-filter/filter} ]]*/ '/global-filter/filter',
			title: /*[[ #{dialog.settings.filter.title} ]]*/ 'Filtre de projets',
			confirmLabel: /*[[ #{label.Confirm} ]]*/ 'Confirmer',
			cancelLabel: /*[[ #{label.Cancel} ]]*/ 'Annuler',
		}, 
		menuBarConf: {
    		boxSelector: "#menu-toggle-filter-ckbox",
    		url: /*[[ @{/global-filter/filter-status} ]]*/ '/global-filter/filter-status',
    		linkSelector: "#menu-project-filter-link",
    		enabledTxt: /*[[ #{workspace.menubar.filter.enabled.label} ]]*/ 'Actif',
    		disabledTxt: /*[[ #{workspace.menubar.filter.disabled.label} ]]*/ 'Inactif',
    		enabledCallbacks: [ function(){ $("div.tree-filter-reminder-div > span").removeClass("not-displayed");} ]
    	}, 
    	notificationConf: {
  			infoTitle: /*[[ #{popup.title.info} ]]*/ 'Info', 
  			errorTitle: /*[[ #{popup.title.error} ]]*/ 'Erreur'
  		}
  	};
  </script>
  <script data-main="../../scripts/requirement-search-result.js" th:attr="data-main=@{/scripts/requirement-search-result.js}"
    src="../../scripts/require.js" th:src="@{/scripts/require-min.js}">
  </script>
  <!-- common head -->
  <link rel="stylesheet" type="text/css" media="all"
    href="../../../../../../../tm/tm.web/src/main/webapp/styles/squash.core.css" sq:css="squash.core.css" />
  <link rel="shortcut icon" type="image/x-icon" media="all"
    href="../../../../../../../tm/tm.web/src/main/webapp/images/favicon.ico" th:href="@{/images/favicon.ico}" />
	<link rel="stylesheet" type="text/css" media="all"
  href="../../../../../../../tm/tm.web/src/main/webapp/styles/squash.grey.css" sq:css="squash.blue.css" />
  <!-- /common head -->
  <link rel="stylesheet" type="text/css" media="all"
  href="../../../../../../../tm/tm.web/src/main/webapp/styles/structure.override.css" sq:css="squash.core.override.css" />
  <link rel="stylesheet" type="text/css" media="all"
  href="../../../../../../../tm/tm.web/src/main/webapp/styles/structure.subpageoverride.css" sq:css="squash.subpage.override.css" />
</head>
<body>
  <div id="navigation" th:include="navbar.frag :: navbar">
    NAVBAR
  </div>
  <div id="workspace">
    <div id="workspace-title">
      <div class="snap-left">
        <h2 th:text="#{workspace.requirement.title}">Espace exigence</h2> 
      </div>
      <div class="snap-right">
        <div class="main-menubar " th:include="menubar.frag :: menubar">
          MENUBAR
        </div>
        <div class="unstyled-notification-pane" th:include="menubar.frag :: notification">
          NOTIFICATION
        </div>
      </div>
    </div>
    <div id="sub-page" class="sub-page" >
			
			<div id="sub-page-header" class="sub-page-header shadow ui-corner-all">
			
				<div id="sub-page-title" class="sub-page-title">
					<h2 th:if="!${associateResult}" th:text="#{title.search.requirement.result}">Recherche des exigences</h2> 
					<h2 th:if="${associateResult}" th:text="#{title.search.requirement.result.assoc}">Recherche des exigences</h2> 
				</div>
				
				<div id="sub-page-buttons" class="sub-page-buttons">
				  	<input type="button" th:if="${associateResult}"
							th:value="#{label.AssociateSelection}" id="associate-selection-button"
							class="button ui-button ui-widget ui-state-default ui-corner-all"
							role="button" aria-disabled="false" />
					<input type="button" th:if="${associateResult}"
							th:value="#{label.AssociateAll}" id="associate-all-button"
							class="button ui-button ui-widget ui-state-default ui-corner-all"
							role="button" aria-disabled="false" />
				  	<input th:if="!${associateResult}" id="back" type="button" class="button" th:value="#{label.Back}" value="Retour"/>	
				  	<input th:if="${associateResult}" id="back" type="button" class="button" th:value="#{label.Cancel}" value="Retour"/>	
				</div>
				
				<div class="unsnap"></div>
			</div>
			
			<div id="sub-page-content" class="sub-page-content shadow ui-corner-all">
    <div class="fragment-body-without-upper-margin" id="test-case-search-results">
   
   <div id="search-toolbar" class="toolbar-class toolbar ui-corner-all">
			<div class="left-buttons">
			<input type="button" th:if="${associateResult}"
							th:value="#{label.SelectAllForSelection}" id="select-all-button"
							class="button ui-button ui-widget ui-state-default ui-corner-all"
							role="button" aria-disabled="false" />
			<input type="button" th:if="${associateResult}"
							th:value="#{label.DeselectAll}" id="deselect-all-button"
							class="button ui-button ui-widget ui-state-default ui-corner-all"
							role="button" aria-disabled="false" />
							
			</div>
						<input type="button" th:value="#{label.ModifySearch}"
							id="modify-search-button"
							class="button ui-button ui-widget ui-state-default ui-corner-all"
							role="button" aria-disabled="false" /> 					
						<input type="button" th:value="#{label.NewSearch}"
							id="new-search-button"
							class="button ui-button ui-widget ui-state-default ui-corner-all"
							role="button" aria-disabled="false" /> 						
						<input type="button" th:if="!${associateResult}" th:value="#{label.Modify}"
							id="modify-search-result-button"
							class="button ui-button ui-widget ui-state-default ui-corner-all"
							role="button" aria-disabled="false" /> 
						<input type="button" th:if="!${associateResult}"
							th:value="#{label.Export}" id="export-search-result-button"
							class="button ui-button ui-widget ui-state-default ui-corner-all"
							role="button" aria-disabled="false" />
						

					<div style="clear: both;"></div>
				</div>
				
				<div id="searchModel" class="not-displayed" th:text="${searchModel}"></div>
				<div th:if="${associateResult}" id="associationType" class="not-displayed" th:text="${associateResultWithType}"></div>
				<div th:if="${associateResult}" id="associationId" class="not-displayed" th:text="${associateId}"></div>

				<div id="search-results" class="toggle-panel">
					<div id="search-results-panel" class="toggle-panel-main table-tab-wrap">
						<table id="requirement-search-result-table"
							th:attr="data-def='filter, hover, datakeys-id=test-case-id'">
							<thead>
								<tr>
									<th th:attr="data-def='select, map=user-index'">#</th>
									<th th:if="${associateResult}" th:attr="data-def='map=is-associated'"></th>
									<th th:attr="data-def='map=project-name'"
										th:text="#{label.project}">project name</th>
									<th th:attr="data-def='sClass=requirementid,map=requirement-id'">ID</th>
									<th th:attr="data-def='map=requirement-reference'"
										th:text="#{label.reference}">test-case reference</th>
									<th th:attr="data-def='map=requirement-label'"
										th:text="#{label.Label}">test-case label</th>
									<th th:attr="data-def='map=requirement-criticality'"
										th:text="#{requirement.criticality.label}">test-case criticality</th>
									<th th:attr="data-def='map=requirement-category'"
										th:text="#{requirement.category.label}">test-case category</th>
									<th th:attr="data-def='map=requirement-status'"
										th:text="#{label.Status}">test-case status</th>
									<th th:attr="data-def='map=requirement-version'"
										th:text="#{label.version}">test-case version</th>										
									<th th:attr="data-def='map=requirement-version-nb'"
										th:text="#{label.numberOfVersions}">nb of
										versions</th>
									<th th:attr="data-def='map=requirement-testcase-nb'"
										th:text="#{label.numberOfTestCases}">nb of test cases</th>
									<th th:attr="data-def='map=test-case-attachment-nb'"
										th:text="#{label.numberOfAttachments}">nb of attachments</th>
									<th th:attr="data-def='map=test-case-created-by'"
										th:text="#{label.createdBy}">created by</th>
									<th th:attr="data-def='map=test-case-modified-by'"
										th:text="#{label.modifiedBy}">last modified by</th>
									<th th:attr="data-def='map=empty-openinterface2-holder'"></th>
									<th th:if="!${associateResult}" th:attr="data-def='map=empty-opentree-holder'"></th>
								</tr>
							</thead>
							<tbody>
							</tbody>
						</table>
					</div>
				</div>
			</div>

			<div id="no-selected-lines" class="popup-dialog not-displayed"
				th:title="#{popup.title.error}">
				<span th:text="#{message.noLinesSelected}"></span>
			</div>

			<div id="warning-no-writing-rights" class="popup-dialog not-displayed"
				th:title="#{popup.title.Info}">
				<span th:text="#{message.noWritingRights}"></span>
			</div>
				
			<div id="modify-search-result-dialog"
				class="not-displayed popup-dialog" th:title="#{label.Modify}">
				<div class="main">
					<table id="modify-search-result-dialog-table">
						<tr>
							<td><input id="criticality-checkbox" type="checkbox"></input></td>
							<td><label th:text="#{requirement.criticality.label}"></label></td>
							<td id="criticality-combo"></td>
						</tr>
						<tr>
							<td><input id="category-checkbox" type="checkbox"></input></td>
							<td><label th:text="#{requirement.category.label}"></label></td>
							<td id="category-combo"></td>
						</tr>
						<tr>
							<td><input id="status-checkbox" type="checkbox"></input></td>
							<td><label th:text="#{label.Status}"></label></td>
							<td id="status-combo"></td>
						</tr>
					</table>
				</div>
				<div class="popup-dialog-buttonpane">
					<input class="confirm" type="button" value="confirm"
						th:value="#{label.Confirm}" /> <input class="cancel"
						type="button" value="cancel" th:value="#{label.Cancel}" />
				</div>
			</div>
			</div>
      </div>
    </div>
</body>
</html>

