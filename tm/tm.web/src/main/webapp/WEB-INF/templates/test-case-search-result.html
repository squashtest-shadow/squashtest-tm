<!--

        This file is part of the Squashtest platform.
        Copyright (C) 2010 - 2014 Henix, henix.fr

        See the NOTICE file distributed with this work for additional
        information regarding copyright ownership.

        This is free software: you can redistribute it and/or modify
        it under the terms of the GNU General Public License as published by
        the Free Software Foundation, either version 3 of the License, or
        (at your option) any later version.

        this software is distributed in the hope that it will be useful,
        but WITHOUT ANY WARRANTY; without even the implied warranty of
        MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
        GNU General Public License for more details.

        You should have received a copy of the GNU General Public License
        along with this software.  If not, see <http://www.gnu.org/licenses/>.

-->
<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-transitional-thymeleaf-spring3-3.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
<title th:text="#{tabbed_panel.search.pane.result.label}">Test Case Result</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<!-- common head -->
<link rel="stylesheet" type="text/css" media="all"
  href="../../../../../../../tm/tm.web/src/main/webapp/styles/squash.core.css" sq:css="squash.core.css" />
<link rel="shortcut icon" type="image/x-icon" media="all"
  href="../../../../../../../tm/tm.web/src/main/webapp/images/favicon.ico" th:href="@{/images/favicon.ico}" />
<link rel="stylesheet" type="text/css" media="all"
  href="../../../../../../../tm/tm.web/src/main/webapp/styles/squash.grey.css" sq:css="squash.green.css" />
<!-- /common head -->
<link rel="stylesheet" type="text/css" media="all"
  href="../../../../../../../tm/tm.web/src/main/webapp/styles/structure.override.css" sq:css="squash.core.override.css" />
<link rel="stylesheet" type="text/css" media="all"
  href="../../../../../../../tm/tm.web/src/main/webapp/styles/structure.subpageoverride.css"
  sq:css="squash.subpage.override.css" />
<script th:remove="all" type="text/javascript" src="../../scripts/lib/jquery/jquery-1.8.3.min.js"></script>
<script th:remove="all" type="text/javascript" src="../../js/thymol.js"></script>
<script type="text/javascript" th:inline="javascript">
	var squashtm = {};
	squashtm.app = {
		contextRoot : /*[[ @{/} ]]*/"http://localhost:8080/squash",
		localizedDateFormat : /*[[ #{squashtm.dateformatShort.datepicker} ]]*/"dd/mm/yy",
		locale : /*[[ #{squashtm.locale} ]]*/"fr",
		menuBarConf : {},
		messages :{
			"label.weightAuto" : /*[[#{label.weightAuto}]]*/"weight auto"
		}
	};
</script>
<script src="../../scripts/pubsub-boot.js" th:src="@{/scripts/pubsub-boot.js}"></script>
<script data-main="../../scripts/test-case-search-result.js" th:attr="data-main=@{/scripts/test-case-search-result.js}"
  src="../../scripts/require.js" th:src="@{/scripts/require-min.js}">
	
</script>
</head>
<body>
  <div id="navigation" th:include="navbar.frag :: navbar">NAVBAR</div>
  <div id="workspace">
    <div id="workspace-title">
      <div class="snap-left">
        <h2 th:text="#{workspace.test-case.title}">Espace cas de test</h2>
      </div>
      <div class="snap-right">
        <div class="main-menubar " th:include="menubar.frag :: menubar">MENUBAR</div>
        <div class="unstyled-notification-pane" th:include="menubar.frag :: notification">NOTIFICATION</div>
      </div>
    </div>
    <div id="sub-page" class="sub-page">

      <div id="sub-page-header" class="sub-page-header shadow ui-corner-all">

        <div id="sub-page-title" class="sub-page-title">
          <h2 th:if="!${associateResult}" th:text="#{tabbed_panel.search.pane.result.label}">Recherche des cas de
            test</h2>
          <h2 th:if="${associateResult}" th:text="#{tabbed_panel.search.pane.result.assoc.label}">Association des
            cas de test</h2>
        </div>

        <div id="sub-page-buttons" class="sub-page-buttons">
          <input type="button" th:if="${associateResult}" th:value="#{label.AssociateSelection}"
            id="associate-selection-button" class="button ui-button ui-widget ui-state-default ui-corner-all"
            role="button" aria-disabled="false" />
          <input type="button" th:if="${associateResult}" th:value="#{label.AssociateAll}" id="associate-all-button"
            class="button ui-button ui-widget ui-state-default ui-corner-all" role="button" aria-disabled="false" />
          <input th:if="!${associateResult}" id="back" type="button" class="sq-btn" th:value="#{label.Back}"
            value="Retour" />
          <input th:if="${associateResult}" id="back" type="button" class="sq-btn" th:value="#{label.Cancel}"
            value="Retour" />
        </div>

        <div class="unsnap"></div>
      </div>

      <div id="sub-page-content" class="sub-page-content shadow ui-corner-all">
        <div class="fragment-body-without-upper-margin" id="test-case-search-results">

          <div id="search-toolbar" class="toolbar-class toolbar ui-corner-all">
            <div class="left-buttons">
              <input type="button" th:value="#{label.SelectAllForSelection}" id="select-all-button"
                class="button ui-button ui-widget ui-state-default ui-corner-all" role="button" aria-disabled="false" />
              <input type="button" th:value="#{label.DeselectAll}" id="deselect-all-button"
                class="button ui-button ui-widget ui-state-default ui-corner-all" role="button" aria-disabled="false" />

            </div>
            <input type="button" th:value="#{label.ModifySearch}" id="modify-search-button"
              class="button ui-button ui-widget ui-state-default ui-corner-all" role="button" aria-disabled="false" />
            <input type="button" th:value="#{label.NewSearch}" id="new-search-button"
              class="button ui-button ui-widget ui-state-default ui-corner-all" role="button" aria-disabled="false" />
            <input type="button" th:if="!${associateResult}" th:value="#{label.Modify}" id="modify-search-result-button"
              class="button ui-button ui-widget ui-state-default ui-corner-all" role="button" aria-disabled="false" />
            <input type="button" th:if="!${associateResult}" th:value="#{label.Export}" id="export-search-result-button"
              class="button ui-button ui-widget ui-state-default ui-corner-all" role="button" aria-disabled="false" />


            <div class="unsnap"></div>
          </div>

          <div id="searchModel" class="not-displayed" th:text="${searchModel}"></div>
          <div id="searchDomain" class="not-displayed" th:text="${searchDomain}"></div>
          <div th:if="${associateResult}" id="associationType" class="not-displayed"
            th:text="${associateResultWithType}"></div>
          <div th:if="${associateResult}" id="associationId" class="not-displayed" th:text="${associateId}"></div>

          <div id="search-results" class="toggle-panel">
            <div id="search-results-panel" class="toggle-panel-main table-tab-wrap">
              <table id="test-case-search-result-table" th:attr="data-def='filter, hover, datakeys-id=test-case-id'"
                class="unstyled-table">
                <thead>
                  <tr>
                    <th th:attr="data-def='select, map=user-index'">#</th>
                    <th th:if="${associateResult}" th:attr="data-def='map=is-associated'"
                      th:title="#{'search.associatedwith.'+${associateResultWithType}+'.tooltip'}"></th>
                    <th th:attr="data-def='map=project-name'" th:text="#{label.project}">project name</th>
                    <th th:attr="data-def='sClass=testcaseid,map=test-case-id'">ID</th>
                    <th th:attr="data-def='map=test-case-ref'" th:text="#{label.reference}">test-case reference</th>
                    <th th:attr="data-def='map=test-case-label'" th:text="#{label.Label}">test-case label</th>
                    <th th:attr="data-def='map=test-case-weight'" th:text="#{test-case.importance.label}">test-case
                      weight</th>
                    <th th:attr="data-def='map=test-case-nature'" th:text="#{test-case.nature.label}">test-case
                      nature</th>
                    <th th:attr="data-def='map=test-case-type'" th:text="#{test-case.type.label}">test-case type</th>
                    <th th:attr="data-def='map=test-case-status'" th:text="#{test-case.status.label}">test-case
                      status</th>
                    <th th:attr="data-def='map=test-case-requirement-nb'"
                      th:text="#{label.numberOfAssociatedRequirements}"
                      th:title="#{label.long.numberOfAssociatedRequirements}">nb of covered requirements</th>
                    <th th:attr="data-def='map=test-case-teststep-nb'" th:text="#{label.numberOfTestSteps}"
                      th:title="#{label.long.numberOfTestSteps}">nb of test steps</th>
                    <th th:attr="data-def='map=test-case-iteration-nb'" th:text="#{label.numberOfAssociatedIterations}"
                      th:title="#{label.long.numberOfAssociatedIterations}">nb of iterations</th>
                    <th th:attr="data-def='map=test-case-attachment-nb'" th:text="#{label.numberOfAttachments}"
                      th:title="#{label.long.numberOfAttachments}">nb of attachments</th>
                    <th th:attr="data-def='map=test-case-created-by'" th:text="#{label.createdBy}">created by</th>
                    <th th:attr="data-def='map=test-case-modified-by'" th:text="#{label.modifiedBy}">last modified
                      by</th>
                    <th th:attr="data-def='map=empty-openinterface2-holder'"></th>
                    <th th:if="!${associateResult}" th:attr="data-def='map=empty-opentree-holder'"></th>
                     <th th:attr="data-def='map=test-case-weight-auto, invisible'" ></th>
                  </tr>
                </thead>
                <tbody>
                </tbody>
              </table>
            </div>
          </div>
        </div>


        <div id="warning-no-writing-rights" class="popup-dialog not-displayed" th:title="#{popup.title.Info}">
          <span th:text="#{message.search.modify.noWritingRights}"></span>
        </div>


        <div id="modify-search-result-dialog" class="not-displayed popup-dialog" th:title="#{label.Modify}">
          <div class="main">
            <table id="modify-search-result-dialog-table">
              <tr>
                <td>
                  <input id="importance-checkbox" type="checkbox"></input>
                </td>
                <td>
                  <label th:text="#{test-case.importance.label}"></label>
                </td>
                <td id="importance-combo"></td>
              </tr>
              <tr>
                <td>
                  <input id="status-checkbox" type="checkbox"></input>
                </td>
                <td>
                  <label th:text="#{test-case.status.label}"></label>
                </td>
                <td id="status-combo"></td>
              </tr>
              <tr>
                <td>
                  <input id="type-checkbox" type="checkbox"></input>
                </td>
                <td>
                  <label th:text="#{test-case.type.label}"></label>
                </td>
                <td id="type-combo"></td>
              </tr>
              <tr>
                <td>
                  <input id="nature-checkbox" type="checkbox"></input>
                </td>
                <td>
                  <label th:text="#{test-case.nature.label}"></label>
                </td>
                <td id="nature-combo"></td>
              </tr>
            </table>
          </div>
          <div class="popup-dialog-buttonpane">
            <input class="confirm" type="button" value="confirm" th:value="#{label.Confirm}" />
            <input class="cancel" type="button" value="cancel" th:value="#{label.Cancel}" />
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>

