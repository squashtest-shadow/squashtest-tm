<!--

        This file is part of the Squashtest platform.
        Copyright (C) 2010 - 2015 Henix, henix.fr

        See the NOTICE file distributed with this work for additional
        information regarding copyright ownership.

        This is free software: you can redistribute it and/or modify
        it under the terms of the GNU Lesser General Public License as published by
        the Free Software Foundation, either version 3 of the License, or
        (at your option) any later version.

        this software is distributed in the hope that it will be useful,
        but WITHOUT ANY WARRANTY; without even the implied warranty of
        MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
        GNU Lesser General Public License for more details.

        You should have received a copy of the GNU Lesser General Public License
        along with this software.  If not, see <http://www.gnu.org/licenses/>.

-->

<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-transitional-thymeleaf-spring3-3.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:th="http://www.thymeleaf.org">

<head>
	<link rel="stylesheet" type="text/css" sq:css="squash.core.css" />
	<link rel="stylesheet" type="text/css" sq:css="squash.purple.css" />
	<script type="text/javascript" th:src="@{/scripts/lib/jquery/jquery-1.8.3.min.js}"></script>
	<script type="text/javascript" th:src="@{/scripts/file-upload/downgraded-upload-dialog.js}"></script>

</head>

<body style="padding-top : 2em; padding-bottom : 2em;">

	<div th:if="${context == 'form'}">
			<form id="ie-upload" method="POST" enctype="multipart/form-data" onsubmit="onBeforeSubmit();">
			
				<div class="attachment-item">
					<input type="file" name="attachment[]" size="40"/>
					<input type="button" class="sq-btn" value="-"/>
				</div>
				<div class="attachment-item not-displayed">
					<input type="file" name="attachment[]" size="40"/>
					<input type="button" class="sq-btn" value="-"/>
				</div>
				<div class="attachment-item not-displayed">
					<input type="file" name="attachment[]" size="40" />
					<input type="button" class="sq-btn" value="-"/>
				</div>
				<div class="attachment-item not-displayed">
					<input type="file" name="attachment[]" size="40" />
					<input type="button" class="sq-btn" value="-"/>
				</div>
				<div class="attachment-item not-displayed">
					<input type="file" name="attachment[]" size="40" />
					<input type="button" class="sq-btn" value="-"/>
				</div>
				<input type="submit" th:value="#{label.Upload}"/>
			
			</form>
	</div>
	
	<div th:if="${context == 'summary'}">
		
		<div th:fragment="summary" class="attachment-upload-summary display-table" >	
	
			<div class="display-table-row" th:each="item : ${detail}">
				<label class="display-table-cell" style="font-weight:bold;" th:text="${item.name}"></label>
				<span class="display-table-cell" th:text="${item.status}"></span>
			</div>		
		</div>
	</div>



</body>

	
	<script type="text/javascript" th:inline="javascript" th:if="${context == 'summary'}">
	/*<![CDATA[*/
    if (!!window.opener){
		window.opener.window.squashtm.api.reloadAttachments();
    }
	/*]]>*/    
	</script>
	

</html>